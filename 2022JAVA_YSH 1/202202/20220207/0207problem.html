<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>문제만들기</title>
    <script>
        //문제 객체를 만들자
        //문제가 담긴 배열 - 각 문제(배열의 요소)들은 객체
        var question = new Object();
        question.index = 1;
        question.n1 = 0;
        question.n2 = 0;
        question.n3 = 0;
        question.ansPlus = question.n1 + question.n2 + question.n3;
        question.ansMul = question.n1 * question.n2 * question.n3;
        question.getQPlus = function(){
            //문제를 만드는 기능을 문제 객체 자체에 메서드로 추가한다
            var qHTML = "";
            qHTML += "<div>";
            qHTML += question.index + "번 문제 : ";
            qHTML += question.n1;
            qHTML += " + ";
            qHTML += question.n2;
            qHTML += " + ";
            qHTML += question.n3;
            qHTML += " = ";
            qHTML += "<input type='text' id='qPlus"+question.index+"' name='ans' />";
            qHTML += "</div>";

            return qHTML;
        }
        question.getQMul = function(){
            //문제를 만드는 기능을 문제 객체 자체에 메서드로 추가한다
            var qHTML = "";
            qHTML += "<div>";
            qHTML += question.index + "번 문제 : ";
            qHTML += question.n1;
            qHTML += " * ";
            qHTML += question.n2;
            qHTML += " * ";
            qHTML += question.n3;
            qHTML += " = ";
            qHTML += "<input type='text' id='qMul"+question.index+"' name='ans' />";
            qHTML += "</div>";

            return qHTML;
        }


        //함수로 만들어도 되지만 기능이 너무 제한적이다
        //1. + 연산만 가능
        //2. n1 ~ n3까지만 더할 수 있다
        /*
        function getQuestion(i){
            var qHTML = "";
            qHTML += "<div>";
            qHTML += (i + 1) + "번 문제 : ";
            qHTML += question[i].n1;
            qHTML += " + ";
            qHTML += question[i].n2;
            qHTML += " + ";
            qHTML += question[i].n3;
            qHTML += " = ";
            qHTML += "<input type='text' id='' name='ans' />";
            qHTML += "</div>";

            return qHTML;
        }
        */

        function startTest(){
            var strHTML ="";
            var inputQNum = parseInt(document.getElementById("qNum").value);

            for(var i=0;i<inputQNum;i++){
                var randInt = parseInt(Math.random()*2+1);
                question.index = i+1;
                //각 숫자를 DB에서 들고온다면 여기에 추가
                question.n1=parseInt(Math.random()*10+1);
                question.n2=parseInt(Math.random()*10+1);
                question.n3=parseInt(Math.random()*10+1);

                if(randInt==1){
                    strHTML += question.getQPlus();
                }
                else{
                    strHTML += question.getQMul();
                }

                
            }

            document.getElementById("qMsg").innerHTML = strHTML;
        }
        /*
        function getScore(){
            var resultScore = 0;
            //getElementById로 들고와서 문제 객체의 ans와 비교
            return resultScore;
        }
        */

    </script>
</head>
<body>
    <div>
        <span>문제수를 입력하세요 : </span>
        <input type="text" id="qNum"/>
        <input type="button" value="문제만들기" onclick="startTest()"/>
    </div>   
    <div id="qMsg"></div>
    <!--
    <div>
        <input type="button" value="정답 확인" onclick="getScore()" />
    </div>
    <div id="comment"></div>
    -->
</body>
</html>