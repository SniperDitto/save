
CREATE TABLE RESERVATION_TBL ( -- 예약
	RES_ID	    CHAR(6)		    NOT NULL PRIMARY KEY,	-- 예약 ID
	PER_ID	    VARCHAR2(20)	NOT NULL,				-- 사람 ID
	HOS_ID	    CHAR(6)		    NOT NULL,				-- 병원 ID
	VAC_ID	    CHAR(6)		    NOT NULL,				-- 백신 ID
	RES_DATE	DATE		    NOT NULL				-- 예약일
);

SELECT* FROM RESERVATION_TBL;
-- INSERT
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES001', '950403-1129471', 'HOS006', 'VAC001', TO_DATE('2022-03-01', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES002', '980923-1199032', 'HOS006', 'VAC002', TO_DATE('2022-03-01', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES003', '970222-2102032', 'HOS006', 'VAC003', TO_DATE('2022-03-01', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES004', '990912-1263322', 'HOS007', 'VAC001', TO_DATE('2022-03-02', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES005', '000530-3195952', 'HOS008', 'VAC002', TO_DATE('2022-03-02', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES006', '690129-2125445', 'HOS004', 'VAC003', TO_DATE('2022-03-02', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES007', '530616-2123669', 'HOS005', 'VAC004', TO_DATE('2022-03-03', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES008', '480628-1124985', 'HOS006', 'VAC001', TO_DATE('2022-03-03', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES009', '080822-4151525', 'HOS004', 'VAC002', TO_DATE('2022-03-03', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES010', '890125-2122532', 'HOS005', 'VAC003', TO_DATE('2022-03-04', 'YYYY-MM-DD'));
--------
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES011', '950403-1129471', 'HOS007', 'VAC001', TO_DATE('2022-03-04', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES012', '980923-1199032', 'HOS007', 'VAC002', TO_DATE('2022-03-05', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES013', '970222-2102032', 'HOS008', 'VAC003', TO_DATE('2022-03-06', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES014', '990912-1263322', 'HOS009', 'VAC001', TO_DATE('2022-03-07', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES015', '000530-3195952', 'HOS011', 'VAC002', TO_DATE('2022-03-07', 'YYYY-MM-DD'));
INSERT INTO RESERVATION_TBL(RES_ID, PER_ID, HOS_ID, VAC_ID, RES_DATE) VALUES('RES016', '990912-1263322', 'HOS009', 'VAC001', TO_DATE('2022-03-10', 'YYYY-MM-DD'));


CREATE TABLE INJECTION_TBL ( -- 접종 완료
	RES_ID	    CHAR(6)		NOT NULL PRIMARY KEY,	-- 접종 ID
	INJ_DATE	DATE		NOT NULL,				-- 접종일
	INJ_CNT	    NUMBER		NOT NULL				-- 접종 차수
);

SELECT* FROM INJECTION_TBL;
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES001', TO_DATE('2022-03-02', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES002', TO_DATE('2022-03-03', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES003', TO_DATE('2022-03-03', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES004', TO_DATE('2022-03-04', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES005', TO_DATE('2022-03-05', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES006', TO_DATE('2022-03-06', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES007', TO_DATE('2022-03-07', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES008', TO_DATE('2022-03-08', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES009', TO_DATE('2022-03-08', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES010', TO_DATE('2022-03-09', 'YYYY-MM-DD'), 1);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES011', TO_DATE('2022-03-10', 'YYYY-MM-DD'), 2);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES012', TO_DATE('2022-03-11', 'YYYY-MM-DD'), 2);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES013', TO_DATE('2022-03-11', 'YYYY-MM-DD'), 2);
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES014', TO_DATE('2022-03-12', 'YYYY-MM-DD'), 2);
-- RES015 예약하고 안옴
INSERT INTO INJECTION_TBL(RES_ID, INJ_DATE, INJ_CNT) VALUES('RES016', TO_DATE('2022-03-19', 'YYYY-MM-DD'), 3);


CREATE TABLE PATIENT_TBL( -- 병원 방문자
    PAT_ID          CHAR(6)     NOT NULL    PRIMARY KEY,		-- 방문자ID
    PER_ID          VARCHAR2(20)       NOT NULL,				-- 사람 ID
    PAT_SYMP_GRP    CHAR(6)     NOT NULL,						-- 증상 GRP
    PAT_SYMP        CHAR(6)    NOT NULL,						-- 증상	
    PAT_IN_DATE     DATE            NOT NULL,					-- 방문일
    HOS_ID          CHAR(6)     NOT NULL						-- 병원 ID
);

INSERT INTO PATIENT_TBL(PAT_ID, PER_ID, PAT_SYMP_GRP, PAT_SYMP, PAT_IN_DATE, HOS_ID) VALUES('PAT001', '950403-1129471', 'GRP003', 'COM202', TO_DATE('2022-03-13', 'YYYY-MM-DD'), 'HOS001');
INSERT INTO PATIENT_TBL(PAT_ID, PER_ID, PAT_SYMP_GRP, PAT_SYMP, PAT_IN_DATE, HOS_ID) VALUES('PAT002', '990912-1263322', 'GRP003', 'COM203', TO_DATE('2022-03-20', 'YYYY-MM-DD'), 'HOS001');
INSERT INTO PATIENT_TBL(PAT_ID, PER_ID, PAT_SYMP_GRP, PAT_SYMP, PAT_IN_DATE, HOS_ID) VALUES('PAT003', '000530-3195952', 'GRP003', 'COM203', TO_DATE('2022-03-08', 'YYYY-MM-DD'), 'HOS003');
INSERT INTO PATIENT_TBL(PAT_ID, PER_ID, PAT_SYMP_GRP, PAT_SYMP, PAT_IN_DATE, HOS_ID) VALUES('PAT004', '690129-2125445', 'GRP003', 'COM203', TO_DATE('2022-03-09', 'YYYY-MM-DD'), 'HOS004');
INSERT INTO PATIENT_TBL(PAT_ID, PER_ID, PAT_SYMP_GRP, PAT_SYMP, PAT_IN_DATE, HOS_ID) VALUES('PAT005', '530616-2123669', 'GRP003', 'COM204', TO_DATE('2022-03-10', 'YYYY-MM-DD'), 'HOS005');



CREATE TABLE TREAT_TBL ( -- 진료
	TRE_ID		CHAR(6)	    NOT NULL PRIMARY KEY,	-- 진료ID
	PAT_ID	    CHAR(6)     NOT NULL,				-- 방문자ID
	PER_ID		VARCHAR2(20)	NOT NULL,			-- 사람 ID
	DOC_ID	    CHAR(6)		NOT NULL,				-- 의사 ID
	TRE_DATE	DATE		NOT NULL,				-- 진료일
	TRE_PAY	    NUMBER	    NOT NULL				-- 진료비
);

INSERT INTO TREAT_TBL(TRE_ID, PAT_ID, PER_ID, DOC_ID, TRE_DATE, TRE_PAY) VALUES('TRE001', 'PAT001', '950403-1129471', 'DOC001',TO_DATE('2022-03-13', 'YYYY-MM-DD'), 5000);
INSERT INTO TREAT_TBL(TRE_ID, PAT_ID, PER_ID, DOC_ID, TRE_DATE, TRE_PAY) VALUES('TRE002', 'PAT002', '990912-1263322', 'DOC002',TO_DATE('2022-03-20', 'YYYY-MM-DD'), 4000);
INSERT INTO TREAT_TBL(TRE_ID, PAT_ID, PER_ID, DOC_ID, TRE_DATE, TRE_PAY) VALUES('TRE003', 'PAT003', '000530-3195952', 'DOC005',TO_DATE('2022-03-08', 'YYYY-MM-DD'), 5000);
INSERT INTO TREAT_TBL(TRE_ID, PAT_ID, PER_ID, DOC_ID, TRE_DATE, TRE_PAY) VALUES('TRE004', 'PAT004', '690129-2125445', 'DOC007',TO_DATE('2022-03-09', 'YYYY-MM-DD'), 4000);
INSERT INTO TREAT_TBL(TRE_ID, PAT_ID, PER_ID, DOC_ID, TRE_DATE, TRE_PAY) VALUES('TRE005', 'PAT005', '530616-2123669', 'DOC009',TO_DATE('2022-03-10', 'YYYY-MM-DD'), 6000);


CREATE TABLE ADMISSION_TBL ( -- 입원 -- 퇴원처럼 만들 거라면 IDX를 빼는 식으로?
	IDX			NUMBER			NOT NULL,				-- 순서
	ADM_ID	    CHAR(6)	  		NOT NULL PRIMARY KEY,	-- 입원ID
	PER_ID	    VARCHAR2(20)	NOT NULL,				-- 사람ID
    TRE_ID	    CHAR(6)			NOT NULL,				-- 진료ID
	ADM_DATE	DATE			NOT NULL				-- 입원일
);


INSERT INTO ADMISSION_TBL (IDX, ADM_ID, PER_ID, TRE_ID, ADM_DATE) VALUES (1, 'ADM001', '950403-1129471', 'TRE001', TO_DATE('2022-03-13', 'YYYY-MM-DD'));
INSERT INTO ADMISSION_TBL (IDX, ADM_ID, PER_ID, TRE_ID, ADM_DATE) VALUES (2, 'ADM002', '990912-1263322', 'TRE002', TO_DATE('2022-03-20', 'YYYY-MM-DD'));



CREATE TABLE ADMISSION_ROOMS_TBL( -- 입원자 병실
	IDX			    NUMBER(4)		NOT NULL,					-- 순서
	ADM_ID		    CHAR(6)		    NOT NULL,					-- 입원 ID
	ADM_ROOM_GRP	CHAR(6)		    NOT NULL,					-- 병실 GRP
	ADM_ROOM		CHAR(6)	        NOT NULL,					-- 병실
	ADM_ROOM_DATE	DATE			NOT NULL					-- 입원일
);

INSERT INTO ADMISSION_ROOMS_TBL(IDX, ADM_ID, ADM_ROOM_GRP, ADM_ROOM, ADM_ROOM_DATE) VALUES (1, 'ADM001', 'GRP006', 'COM505', TO_DATE('2022-03-13', 'YYYY-MM-DD')); -- 3O,OOO
INSERT INTO ADMISSION_ROOMS_TBL(IDX, ADM_ID, ADM_ROOM_GRP, ADM_ROOM, ADM_ROOM_DATE) VALUES (2, 'ADM002', 'GRP006', 'COM503', TO_DATE('2022-03-20', 'YYYY-MM-DD')); -- 9O,OOO
INSERT INTO ADMISSION_ROOMS_TBL(IDX, ADM_ID, ADM_ROOM_GRP, ADM_ROOM, ADM_ROOM_DATE) VALUES (3, 'ADM001', 'GRP006', 'COM505', TO_DATE('2022-03-14', 'YYYY-MM-DD')); -- 3O,OOO
INSERT INTO ADMISSION_ROOMS_TBL(IDX, ADM_ID, ADM_ROOM_GRP, ADM_ROOM, ADM_ROOM_DATE) VALUES (4, 'ADM001', 'GRP006', 'COM505', TO_DATE('2022-03-15', 'YYYY-MM-DD')); -- 3O,OOO
INSERT INTO ADMISSION_ROOMS_TBL(IDX, ADM_ID, ADM_ROOM_GRP, ADM_ROOM, ADM_ROOM_DATE) VALUES (5, 'ADM002', 'GRP006', 'COM505', TO_DATE('2022-03-21', 'YYYY-MM-DD')); -- 3O,OOO
INSERT INTO ADMISSION_ROOMS_TBL(IDX, ADM_ID, ADM_ROOM_GRP, ADM_ROOM, ADM_ROOM_DATE) VALUES (6, 'ADM002', 'GRP006', 'COM505', TO_DATE('2022-03-22', 'YYYY-MM-DD')); -- 3O,OOO


CREATE TABLE ADMISSION_MEDICINES_TBL( -- 입원자 처방약
	IDX			    NUMBER		    NOT NULL,					-- 순서
	ADM_ID		    CHAR(6)		    NOT NULL,					-- 입원 ID
	ADM_MED_GRP		CHAR(6)		    NOT NULL,					-- 처방약 GRP
	ADM_MED		    CHAR(6)			NOT NULL,					-- 처방약
	ADM_MED_QTY		NUMBER		    NOT NULL,					-- 처방약 수량
	ADM_MED_DATE	DATE		    NOT NULL					-- 처방일
);

INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(1, 'ADM001', 'GRP005', 'COM412', 2, TO_DATE('2022-03-13', 'YYYY-MM-DD')); --200,000
INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(2, 'ADM002', 'GRP005', 'COM414', 1, TO_DATE('2022-03-20', 'YYYY-MM-DD')); --95,000
INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(3, 'ADM001', 'GRP005', 'COM413', 1, TO_DATE('2022-03-14', 'YYYY-MM-DD')); --90,000
INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(4, 'ADM001', 'GRP005', 'COM405', 2, TO_DATE('2022-03-14', 'YYYY-MM-DD')); --5,800
INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(5, 'ADM001', 'GRP005', 'COM414', 1, TO_DATE('2022-03-15', 'YYYY-MM-DD')); --95,000
INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(6, 'ADM002', 'GRP005', 'COM402', 1, TO_DATE('2022-03-21', 'YYYY-MM-DD')); --2,500
INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(7, 'ADM002', 'GRP005', 'COM411', 2, TO_DATE('2022-03-21', 'YYYY-MM-DD')); --14,000
INSERT INTO ADMISSION_MEDICINES_TBL(IDX, ADM_ID, ADM_MED_GRP, ADM_MED, ADM_MED_QTY, ADM_MED_DATE) VALUES(8, 'ADM002', 'GRP005', 'COM414', 1, TO_DATE('2022-03-22', 'YYYY-MM-DD')); --95,000




CREATE TABLE DISCHARGE_TBL ( -- 퇴원
	IDX	        NUMBER		        NOT NULL,				-- 순서
	ADM_ID	    CHAR(6)	            NOT NULL,	            -- 입원 ID
	PER_ID	    VARCHAR2(20)		NOT NULL,		        -- 사람 ID
	DOC_ID	    CHAR(6)		        NOT NULL,				-- 의사 ID
	DIS_DATE	DATE		        NOT NULL				-- 퇴원일
);
DROP TABLE DISCHARGE_TBL;

INSERT INTO DISCHARGE_TBL(IDX, ADM_ID, PER_ID, DOC_ID, DIS_DATE) VALUES(1, 'ADM001', '950403-1129471', 'DOC001', TO_DATE('2022-03-16', 'YYYY-MM-DD'));
INSERT INTO DISCHARGE_TBL(IDX, ADM_ID, PER_ID, DOC_ID, DIS_DATE) VALUES(2, 'ADM002', '990912-1263322', 'DOC002', TO_DATE('2022-03-23', 'YYYY-MM-DD'));
